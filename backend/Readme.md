# Andy's SAY
This README is generated by AI, but I have confirmed the content. You can choose to read this readme or route file to understand how to test and use each API.




## ðŸ“® 1. Send a Message

Create a new message; If no conversation exists, it will be created automatically.

Additionally, this API also updates the conversationâ€™s lastMessageTimestamp and updatedAt when a new message is added.

- **Endpoint:** `POST /api/messages`
- **Body:**

```json
{
  "senderId": "66304ae6cfd94fc00c4911e8",
  "recipientId": "66304ae6cfd94fc00c4911e9",
  "content": "Hello, are you free to talk?"
}
```


---

## ðŸ’¬ 2. Get User Conversations

Returns all conversations for the user, including the last message timestamp, the other participant's info, and unread count.

- **Endpoint:** `GET /api/conversations?userId=<userId>`
- **Example:**

```http
GET http://localhost:3000/api/conversations?userId=66304ae6cfd94fc00c4911e8
```




---

## ðŸ“¨ 3. Get Messages in a Conversation

Returns all messages in a specific conversation.

- **Endpoint:** `GET /api/conversations/:id/messages`
- **Example:**

```http
GET http://localhost:3000/api/conversations/66305abc123/messages
```

---

## âœ… 4. Mark Conversation as Read

Marks all unread messages **sent by others** in a specific conversation as read.

- **Endpoint:** `PUT /api/conversations/:id/read`
- **Body:**

```json
{
  "userId": "66304ae6cfd94fc00c4911e8"
}
```

---

## ðŸ”´ 5. Get Unread Message Count

Returns the total number of unread messages **received** by the user.

- **Endpoint:** `GET /api/messages/unread-count?userId=<userId>`
- **Example:**

```http
GET http://localhost:3000/api/messages/unread-count?userId=66304ae6cfd94fc00c4911e8
```
